<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vérification du Token sur BaseScan</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Vérifiez votre possession de Token</h1>
    <input type="text" id="wallet" placeholder="Entrez une adresse Ethereum" value="0x0B386dC002C07118a8BA421Fb53425261B268cDa">
    <button onclick="checkTokenOwnership()">Vérifier la Possession</button>
    <pre id="result"></pre>

    <script>
        async function checkTokenOwnership() {
            const walletAddress = document.getElementById('wallet').value;
            const contractAddress = "0x5eE29000671EFAac472F59d7Cc32F8ab2268953d";
            const apiKey = "I4RZUU557FXN8KRYCBV76JUGZZYJQDKF7F"; // Remplace par ta clé API

            const apiUrl = `https://api.basescan.org/api?module=account&action=tokenbalance&contractaddress=${contractAddress}&address=${walletAddress}&tag=latest&apikey=${apiKey}`;

            try {
                const response = await axios.get(apiUrl);
                const result = response.data;

                if (result.status === "1") {
                    const balance = parseInt(result.result);
                    if (balance > 0) {
                        document.getElementById('result').innerText = "Owned";
                    } else {
                        document.getElementById('result').innerText = "GET IT !";
                    }
                } else {
                    document.getElementById('result').innerText = 'Erreur : ' + result.message;
                }
            } catch (error) {
                console.error("Erreur d'API :", error.response ? error.response.data : error.message);
                document.getElementById('result').innerText = 'Erreur lors de la récupération du solde : ' + (error.response ? error.response.data.message : error.message);
            }
        }
    </script>
</body>
</html>
