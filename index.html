<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vérification du Solde de Token sur BaseScan</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
    <h1>Vérifiez le Solde de Token</h1>
    <input type="text" id="wallet" placeholder="Entrez une adresse Ethereum" value="0x0B386dC002C07118a8BA421Fb53425261B268cDa">
    <button onclick="getTokenBalance()">Vérifier le Solde</button>
    <pre id="result"></pre>

    <script>
        async function getTokenBalance() {
            const walletAddress = document.getElementById('wallet').value;
            const contractAddress = "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913";
            const apiKey = "I4RZUU557FXN8KRYCBV76JUGZZYJQDKF7F"; // Remplace par ta clé API si nécessaire

            const apiUrl = `https://api.basescan.org/api?module=account&action=tokenbalance&contractaddress=${contractAddress}&address=${walletAddress}&tag=latest&apikey=${apiKey}`;

            try {
                const response = await axios.get(apiUrl);
                const result = response.data;

                if (result.status === "1") {
                    document.getElementById('result').innerText = `Solde du token: ${result.result}`;
                } else {
                    document.getElementById('result').innerText = 'Erreur : ' + result.message;
                }
            } catch (error) {
                console.error("Erreur d'API :", error.response ? error.response.data : error.message);
                document.getElementById('result').innerText = 'Erreur lors de la récupération du solde: ' + (error.response ? error.response.data.message : error.message);
            }
        }
    </script>
</body>
</html>
